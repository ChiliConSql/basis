//
// Adding margin for the row
//
// @param  length  $margin  margin size
//
bs-row-margin($margin) {
  margin-right: ($margin / 2 * -1);
  margin-left: ($margin / 2 * -1);
  margin-bottom: ($margin * -1);
}

//
// Adding margin for the column
//
// @param  length  $margin  margin size
//
bs-col-margin($margin) {
  padding-right: ($margin / 2);
  padding-left: ($margin / 2);
  margin-bottom: $margin;
}

//
// Setting column width
//
// @param  length  $width
//
bs-col-width($width) {
  if ($width == auto) {
    flex: auto;
    max-width: 100%;
  } else if ($width == 1) {
    flex: 1;
    max-width: 100%;
  } else {
    flex: 0 1 $width;
    max-width: $width;
  }
}

//
// Grid component
//
// .c-row {
//     bs-c-row();
//     &__col {
//         bs-c-row__col();
//         &--1-3 {
//             bs-c-row__col(1, 3);
//         }
//         &--offset-1-3 {
//             bs-c-row__col--offset(1, 3);
//         }
//     }
// }
//
// <div class="c-row">
//    <div class="c-row__col">
//        ...
//    </div>
// </div>
//

$bs-col-margin   ?= $bs-base-line-height;
$bs-col-margin-s ?= ($bs-base-line-height / 2);
$bs-col-margin-l ?= ($bs-base-line-height * 2);
$bs-min-columns  ?= 1;
$bs-max-columns  ?= 12;

bs-c-row() {
  display: flex;
  flex-wrap: wrap;
}

bs-c-row__col($columns = null, $max-columns = null) {

  if ($columns != null && $max-columns != null) {
    $width = percentage($columns / $max-columns);
    bs-col-width($width);
  } else {
    flex: 1;
    max-width: 100%;
  }
}

bs-c-row__col--offset($columns = null, $max-columns = null) {
  if ($columns != null && $max-columns != null) {
    margin-left: percentage($columns / $max-columns);
  }
  if ($columns == 0) {
    margin-left: 0;
  }
}
